[
  {
    "objectID": "In-Class_Ex/In-Class_Ex_04/In-Class_Ex_04.html",
    "href": "In-Class_Ex/In-Class_Ex_04/In-Class_Ex_04.html",
    "title": "In-Class Exercise_4",
    "section": "",
    "text": "pacman::p_load(plotly, DT, patchwork, ggstatsplot, tidyverse)\n\n\nexam_data <- read_csv(\"data/Exam_data.csv\")\n\nRows: 322 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): ID, CLASS, GENDER, RACE\ndbl (3): ENGLISH, MATHS, SCIENCE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\nplot_ly(data = exam_data, # don't have to define aes(), but need to add ~\n        x = ~ENGLISH, \n        y = ~MATHS, \n        color = ~RACE) #<<\n\nNo trace type specified:\n  Based on info supplied, a 'scatter' trace seems appropriate.\n  Read more about this trace type -> https://plotly.com/r/reference/#scatter\n\n\nNo scatter mode specifed:\n  Setting the mode to markers\n  Read more about this attribute -> https://plotly.com/r/reference/#scatter-mode\n\n\n\n\n\n\n\np <- ggplot(data=exam_data, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(dotsize = 1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\nWarning in geom_point(dotsize = 1): Ignoring unknown parameters: `dotsize`\n\nggplotly(p) #<<\n\n\n\n\n\n\nlibrary(ggstatsplot)\n\n\nggbetweenstats(\n  data=exam_data,\n  x=GENDER,\n  y=MATHS,\n  type=\"p\",\n  message=FALSE\n)\n\n\n\n\n\nggscatterstats(\n  data=exam_data,\n  x=MATHS,\n  y=ENGLISH,\n  marginal=FALSE\n)\n\n\n\n\n\nmy_sum <- exam_data %>%\n  group_by(RACE) %>%\n  summarise(\n    n=n(),\n    mean=mean(MATHS),\n    sd=sd(MATHS)\n  )%>%\n  mutate(se=sd/sqrt(n-1))\n\nmy_sum\n\n# A tibble: 4 × 5\n  RACE        n  mean    sd    se\n  <chr>   <int> <dbl> <dbl> <dbl>\n1 Chinese   193  76.5  15.7  1.13\n2 Indian     12  60.7  23.4  7.04\n3 Malay     108  57.4  21.1  2.04\n4 Others      9  69.7  10.7  3.79\n\n\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=RACE,\n        ymin=mean-se,\n        ymax=mean+se),\n    width=0.2,\n    colour=\"black\",\n    alpha=0.9,\n    size=0.5\n  )+\n  geom_point(aes\n             (x=RACE,\n               y=mean),\n             stat=\"identity\",\n             color=\"red\",\n             size=1.5,\n             alpha=1)\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead."
  },
  {
    "objectID": "Take-Home-Exercise/Take-Home-Exercise_01.html",
    "href": "Take-Home-Exercise/Take-Home-Exercise_01.html",
    "title": "Take Home Exercise 01",
    "section": "",
    "text": "Create an age-sex pyramid to visualize Singapore’s demographic structure.\n\n\nSingstat regularly releases its latest demographics data on its website. You may refer to this data for this task: Singapore Residents by Planning Area / Subzone, Age Group, Sex and Type of Dwelling, June 2022.\n\n\n\nI explored the dataset by putting Population in Columns and Age group in Rows.\n\nTo create an age pyramid by sex, we need to divide population sum by female and male.\n\nBy using the default “Population” field, I edited the formula to contain only female population. To create male population field, simply duplicate the female population field and change the code with “Male”\n\nNow we have both female and population! Now, simply put these two fields under Column. How can we make this look like a pyramid?\n\nOne way to do so is reverse the axis of female population chart. You can do it by right-clicking the chart and click on “reverse”.\n\nOnce you reverse the axis, color the chart to differentiate female and male chart. Go to Marks and click Color. To analyze age & sex distribution by different planning area, you may add a filter to select the area that you want to focus on.\n\nSort the label axis to a descending order, so that the older age group comes on top. You can do this by right-clicking Age Group, and adjust Sort Order option. Change the sheet name so that it matches your filtered planning area.\n\nI chose 9 planning areas to be plotted in Trellis Chart to lay out different areas distribution in one view. Before we move on, I erased axis labels and adjusted header size to save some space in the dashboard. Then, I duplicated 8 more tabs, applied different planning area, and named them accordingly.\n\nTableau has a very useful function called Dashboard where you can put visualizations in different tabs in one sheet. Drag & drop planning areas in 3*3, make them fit the screen. Note that the bar chart does not indicate absolute number. You may bring mouse cursor over to the chart and read the exact value from the marker.\n\nWe have our age & sex pyramid in trellis chart, here are key findings -\n\n\n\nSelected 9 areas can be grouped by similar sub-categories as per their location and geographic characteristics – Town (Downtown Core, Newton), West (Bukit Timah, Clementi), North-East (Serangoon, Hougang), East (Tampines, Changi), and North (Sembawang).\nDowntown core has low elderly and kids’ group, instead has mostly 30~40s. Downtown core area has private residences targeting expats or high-income businesses. Therefore, the population pattern shows extremely low percentage of seniors and young kids. Population pattern shows that residents here are in their prime period of career path, which aligns with age group of 30~40s who could afford expensive rent. Among the rest of 8 planning areas, Newton shows the most similar pattern as Downtown Core. However, it has high percentage of middle age, and quite a lot of kids and teenagers. This pattern indicates that Newton has family-unit residents.\nBukit Timah and Clementi have similar population patterns with high portion of children and teenagers, as well as middle age. At the same time, they have quite a lot of 20s population as well. The pattern could be due to institutes near these planning areas, such as NUS, SIM, and polytechnics. Between Bukit Timah and Clementi, Clementi has more senior population, resulting in shorter bars for age groups below 20s.\nSimilarly, North-East area including Serangoon and Hougang has relatively higher distribution of senior population of age group above. 60. Together with Tampines, these areas have distinct pattern of “Star-shape.” There are distinctively standing out age groups with age interval of thirty years. For example, in Tampines, age group of 30 to 34 stands out, and similarly age group of 60 to 64 stands out. This may indicate that star-shape area may have bigger residences which could accommodate three generation families – grandparents, young parents, and their kids.\nIn Changi area, it is difficult to generalize the result of pattern as its absolute population is smaller than the rest of others, however, it still has unique pattern of higher population in middle age, could be the result of different gender distribution of logistics and aviation industry.\n\n\n\nBusiness operators may choose Downtown Core area to target expats or high-income residents with premiums services, such as fitness centres, value-added service clinics, or luxury restaurants. Education centres may consider West area to improve learning facilities. West area could be a good option for private institutions targeting teenagers and young twenties. For North-East area, it would be a good choice to have more senior facilities. Moreover, in Tampines area, bigger apartments of more than 4 rooms would be ideal to accommodate big families."
  }
]